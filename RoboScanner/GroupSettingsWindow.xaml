<Window x:Class="RoboScanner.GroupSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{DynamicResource Group.Window.Title}" Height="460" Width="480"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="10"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="16"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <TextBlock Text="{Binding Header}" FontWeight="Bold" FontSize="16"/>

        <!-- Имя группы -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" VerticalAlignment="Center">
            <TextBlock Text="{DynamicResource Group.Field.Name}" Width="150" Margin="0,0,8,0" VerticalAlignment="Center"/>
            <TextBox Text="{Binding Name}" Width="260"/>
        </StackPanel>

        <!-- Подключение (Modbus TCP) -->
        <GroupBox Grid.Row="4" Header="{DynamicResource Group.Header.Connection}">
            <Grid Margin="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="120"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource Group.Field.Host}" VerticalAlignment="Center"/>
                <TextBox   Grid.Row="0" Grid.Column="1" Text="{Binding Host}" />

                <TextBlock Grid.Row="2" Grid.Column="0" Text="{DynamicResource Group.Field.Port}" VerticalAlignment="Center"/>
                <TextBox   Grid.Row="2" Grid.Column="1" Width="100" Text="{Binding Port}"/>

                <TextBlock Grid.Row="4" Grid.Column="0" Text="{DynamicResource Group.Field.UnitId}" VerticalAlignment="Center"/>
                <TextBox   Grid.Row="4" Grid.Column="1" Width="100" Text="{Binding UnitId}"/>
            </Grid>
        </GroupBox>

        <!-- Обмен -->
        <GroupBox Grid.Row="6" Header="{DynamicResource Group.Header.Exchange}">
            <Grid Margin="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource Group.Field.Timeout}" VerticalAlignment="Center"/>
                <TextBox   Grid.Row="0" Grid.Column="1" Width="100" Text="{Binding TimeoutMs}"/>
            </Grid>
        </GroupBox>

        <!-- Главный канал и импульс -->
        <GroupBox Grid.Row="7" Header="{DynamicResource Group.Header.MainCoil}">
            <Grid Margin="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="180"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" 
               Text="{DynamicResource Group.Field.Coil}" VerticalAlignment="Center"/>
                <TextBox   Grid.Row="0" Grid.Column="1" Width="140"
               Text="{Binding PrimaryCoilAddress}"/>

                <TextBlock Grid.Row="2" Grid.Column="0" 
               Text="{DynamicResource Group.Field.Pulse}" VerticalAlignment="Center"
               ToolTip="{DynamicResource Group.Field.Pulse.Tooltip}"/>
                <TextBox   Grid.Row="2" Grid.Column="1" Width="140"
               Text="{Binding PulseSeconds}"/>
            </Grid>
        </GroupBox>


        <!-- Кнопки -->
        <StackPanel Grid.Row="9" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="{DynamicResource Common.Save}" Width="110" Margin="0,0,8,0" IsDefault="True" Click="Save_Click"/>
            <Button Content="{DynamicResource Common.Cancel}" Width="90" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
